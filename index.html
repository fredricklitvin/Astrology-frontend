<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zodiac Finder</title>
</head>
<body>
  <h2>Enter Your Birth Date</h2>
  <form id="zodiac-form">
    <label for="month">Month:</label>
    <select id="month" name="month" required>
      <option value="">--Select Month--</option>
      <!-- 1 to 12 -->
      <script>
        for (let i = 1; i <= 12; i++) {
          document.write(`<option value="${i}">${i}</option>`);
        }
      </script>
    </select>

    <label for="day">Day:</label>
    <select id="day" name="day" required>
      <option value="">--Select Day--</option>
      <!-- 1 to 31 -->
      <script>
        for (let i = 1; i <= 31; i++) {
          document.write(`<option value="${i}">${i}</option>`);
        }
      </script>
    </select>

    <button type="submit">Find Zodiac</button>
  </form>

  <div id="result" style="margin-top:20px;"></div>

  <script>
    const form = document.getElementById("zodiac-form");
    const resultDiv = document.getElementById("result");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const month = document.getElementById("month").value;
      const day = document.getElementById("day").value;

      try {
        const response = await fetch("https://my-gateway-2vka9th7.ew.gateway.dev/zodiac", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ month: parseInt(month), day: parseInt(day) }),
        });

        if (!response.ok) throw new Error("Network response was not ok");

        const data = await response.json();
        resultDiv.innerHTML = `<h3>Your sign is: ${data.sign}</h3><p>${data.info}</p>`;
      } catch (error) {
        resultDiv.innerHTML = `<p style="color:red;">Error: ${error.message}</p>`;
      }
    });
  </script>
</body>
</html>